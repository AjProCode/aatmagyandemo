import React, { useState, useEffect } from 'react';
import { 
  Menu, X, Phone, Clock, ChevronRight, Heart, Users, MapPin, 
  Sparkles, BookOpen, Quote, Target, Star, ShieldCheck, ExternalLink,
  Wind, Mic2, VolumeX, Sun, Calendar, PlayCircle, Mail, Landmark,
  Layers, Info, CheckCircle2
} from 'lucide-react';

const App = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [scrolled, setScrolled] = useState(false);
  const [activeModal, setActiveModal] = useState(null);

  useEffect(() => {
    const handleScroll = () => {
      setScrolled(window.scrollY > 50);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  // Modal Component
  const Modal = ({ isOpen, onClose, children }) => {
    if (!isOpen) return null;
    return (
      <div className="fixed inset-0 z-[100] flex items-center justify-center p-4">
        <div className="absolute inset-0 bg-slate-900/80 backdrop-blur-md" onClick={onClose}></div>
        <div className="bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-3xl relative z-10 shadow-2xl animate-in zoom-in-95 duration-300">
          <button onClick={onClose} className="absolute top-6 right-6 p-2 hover:bg-slate-100 rounded-full transition-colors">
            <X size={24} />
          </button>
          <div className="p-8 md:p-12">
            {children}
          </div>
        </div>
      </div>
    );
  };

  const SamatvaDeepDive = () => (
    <div className="space-y-8">
      <div className="flex flex-col md:flex-row gap-8 items-start">
        <div className="w-full md:w-1/3 shrink-0">
          <div className="aspect-[3/4] rounded-2xl overflow-hidden shadow-lg border-4 border-white">
            <img 
              src="https://images.unsplash.com/photo-1545389336-cf09bdabc999?auto=format&fit=crop&q=80&w=800" 
              className="w-full h-full object-cover"
              alt="Aparna Nevatia"
            />
          </div>
          <p className="mt-4 text-center font-serif text-red-700 font-bold text-lg italic">Aparna Nevatia</p>
        </div>
        <div className="flex-1 space-y-6">
          <h2 className="text-4xl font-serif font-bold text-slate-800">Samatva Dhyan</h2>
          
          <section className="space-y-3">
            <h4 className="text-xl font-bold text-red-700">Level - 1</h4>
            <p className="text-slate-600 leading-relaxed">
              Atman Gyan Dhyan Sadhna starts from Soham Dhyan or Samatva Dhyan. It sets the foundation for higher spiritual learning and helps in breaking deep-rooted notions, like — "meditation is meant only for the retired or for sanyasis." It includes basic techniques explaining the true nature of dhyan and easy, effective ways to meditate at home.
            </p>
          </section>

          <section className="space-y-3">
            <h4 className="text-xl font-bold text-red-700">Level - 2</h4>
            <p className="text-slate-600 leading-relaxed">
              After basic concepts are understood, one moves to higher levels. While the basic level aims for happiness and peace, this level seeks answers to ultimate questions. Guided by Aparnaji, seekers attempt to know what God really is. From miraculous experiences to boundless energy, advanced meditation has no limits.
            </p>
            <div className="bg-red-50 p-4 rounded-xl border-l-4 border-red-700 italic text-red-900 text-sm">
              "Reinforcing the aim of rejuvenation, to move on the path of spirituality... and to spread the message of 'Sarve Bhavantu Sukhinah' as far as possible."
            </div>
          </section>
        </div>
      </div>

      <div className="bg-slate-50 p-8 rounded-3xl border border-slate-200">
        <h3 className="text-2xl font-serif font-bold text-slate-800 mb-4">Atma Gyan Dhyan Sadhana</h3>
        <p className="text-slate-600 mb-6 italic">
          Initiation into this serious path is given by our Guru, Mrs. Aparna Nevatia. These secretive techniques are disclosed only in the pure Guru-Shishya parampara.
        </p>
        <p className="text-slate-600 mb-6">
          It covers the four interwoven paths of yoga: <span className="font-bold text-red-700">GyanYog, Karma Yog, Bhakti Yog, and RajYog</span>. Through rigorous discipline (tap) and Sadhana, the Saadhak moves deeper into the spiritual world while fulfilling material duties.
        </p>
        <div className="flex flex-wrap gap-2">
          {['GyanYog', 'Karma Yog', 'Bhakti Yog', 'RajYog'].map(tag => (
            <span key={tag} className="px-3 py-1 bg-white border border-slate-200 rounded-full text-[10px] font-bold uppercase tracking-wider text-slate-500">
              {tag}
            </span>
          ))}
        </div>
      </div>
    </div>
  );

  return (
    <div className="min-h-screen bg-[#FDFCFB] font-sans text-slate-900">
      <Modal isOpen={activeModal === 'samatva'} onClose={() => setActiveModal(null)}>
        <SamatvaDeepDive />
      </Modal>

      {/* Nav */}
      <nav className={`fixed top-0 w-full z-50 transition-all duration-300 ${scrolled ? 'bg-white shadow-md py-3' : 'bg-transparent py-6'}`}>
        <div className="max-w-7xl mx-auto px-6 flex justify-between items-center">
          <div className="flex items-center gap-3">
            <div className="w-10 h-10 bg-red-700 rounded-lg flex items-center justify-center text-white">
              <Sparkles size={20} />
            </div>
            <div>
              <h1 className="text-lg font-serif font-black tracking-tight leading-none uppercase">ATMAN GYAN</h1>
              <p className="text-[8px] tracking-[0.3em] text-red-600 font-bold uppercase mt-1">Dhyan Sadhana</p>
            </div>
          </div>
          <div className="hidden md:flex gap-8 text-[11px] font-bold uppercase tracking-widest text-slate-600">
            <a href="#" className="hover:text-red-700 transition-colors">Home</a>
            <a href="#" className="hover:text-red-700 transition-colors">Dhyan Sadhna</a>
            <a href="#" className="hover:text-red-700 transition-colors">Outreach</a>
            <a href="#" className="hover:text-red-700 transition-colors">Contact</a>
          </div>
        </div>
      </nav>

      {/* Hero */}
      <section className="pt-32 pb-20 px-6">
        <div className="max-w-7xl mx-auto text-center space-y-8">
          <div className="inline-block px-4 py-1.5 bg-red-50 rounded-full text-red-700 text-[10px] font-black uppercase tracking-[0.2em] mb-4">
            A Spiritual Foundation
          </div>
          <h2 className="text-4xl md:text-6xl font-serif font-medium italic text-slate-800 max-w-4xl mx-auto leading-tight">
            “Observe <span className="text-red-800 font-bold not-italic underline decoration-red-200 underline-offset-8">Kutastha</span>, that is My Form.”
          </h2>
          <p className="text-slate-500 max-w-xl mx-auto text-lg font-light leading-relaxed">
            We seek to know the Self and achieve our truest potential through Yogic Science regardless of caste, creed or religion.
          </p>
        </div>
      </section>

      {/* Grid */}
      <section className="py-20 px-6 bg-white">
        <div className="max-w-7xl mx-auto grid md:grid-cols-2 lg:grid-cols-4 gap-8">
          
          {/* Samatva Dhyan Card */}
          <div className="group space-y-6">
            <div className="aspect-video overflow-hidden rounded-2xl shadow-sm border border-slate-100">
              <img src="https://images.unsplash.com/photo-1506126613408-eca07ce68773?auto=format&fit=crop&q=80&w=800" className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" alt="Samatva" />
            </div>
            <h3 className="text-2xl font-serif font-bold text-red-700">Samatva Dhyan</h3>
            <p className="text-slate-600 text-sm leading-relaxed">
              Samatva Dhyan is the core in the wheel of Dhyan Sadhna led by Aparna Ji. It sets the foundation for higher spiritual growth.
            </p>
            <button 
              onClick={() => setActiveModal('samatva')}
              className="px-6 py-2.5 bg-red-700 text-white text-[10px] font-bold uppercase tracking-[0.2em] rounded hover:bg-slate-800 transition-all"
            >
              Read More
            </button>
          </div>

          {/* Bhagwad Geeta Card */}
          <div className="group space-y-6">
            <div className="aspect-video overflow-hidden rounded-2xl shadow-sm border border-slate-100">
              <img src="https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?auto=format&fit=crop&q=80&w=800" className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" alt="Geeta" />
            </div>
            <h3 className="text-2xl font-serif font-bold text-red-700">Bhagwad Geeta</h3>
            <p className="text-slate-600 text-sm leading-relaxed">
              Aparnaji's principles go above religion, following the ultimate text that leads us to the truth. She has taken Bhagawada Gita.
            </p>
            <button className="px-6 py-2.5 bg-red-700 text-white text-[10px] font-bold uppercase tracking-[0.2em] rounded hover:bg-slate-800 transition-all">
              Read More
            </button>
          </div>

          {/* Anna Daan Card */}
          <div className="group space-y-6">
            <div className="aspect-video overflow-hidden rounded-2xl shadow-sm border border-slate-100">
              <img src="https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?auto=format&fit=crop&q=80&w=800" className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" alt="Anna Daan" />
            </div>
            <h3 className="text-2xl font-serif font-bold text-red-700">Anna Daan</h3>
            <p className="text-slate-600 text-sm leading-relaxed">
              An outreach initiative to contribute to Zero Hunger. Rejuvenators aim at feeding the underprivileged across the community.
            </p>
            <button className="px-6 py-2.5 bg-red-700 text-white text-[10px] font-bold uppercase tracking-[0.2em] rounded hover:bg-slate-800 transition-all">
              Read More
            </button>
          </div>

          {/* Jagrati Card */}
          <div className="group space-y-6">
            <div className="aspect-video overflow-hidden rounded-2xl shadow-sm border border-slate-100">
              <img src="https://images.unsplash.com/photo-1491438590914-bc09fcaaf77a?auto=format&fit=crop&q=80&w=800" className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" alt="Jagrati" />
            </div>
            <h3 className="text-2xl font-serif font-bold text-red-700">Jagrati</h3>
            <p className="text-slate-600 text-sm leading-relaxed">
              Educating and spiritualising underprivileged children with material aids like clothes, academic food, and moral guidance.
            </p>
            <button className="px-6 py-2.5 bg-red-700 text-white text-[10px] font-bold uppercase tracking-[0.2em] rounded hover:bg-slate-800 transition-all">
              Read More
            </button>
          </div>

        </div>
      </section>

      {/* Footer / Donation */}
      <footer className="bg-slate-900 text-white py-20 px-6">
        <div className="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-10">
          <div className="space-y-4 text-center md:text-left">
            <h4 className="text-2xl font-serif font-bold">Support Our Mission</h4>
            <p className="text-slate-400 max-w-md">Your contributions help us continue our outreach programs like Anna Daan and Jagrati.</p>
          </div>
          <div className="bg-white/10 p-8 rounded-3xl border border-white/10 backdrop-blur-md">
            <div className="flex items-center gap-4 mb-4">
              <Landmark className="text-red-400" />
              <span className="font-bold text-lg">Bank Details</span>
            </div>
            <p className="text-sm text-slate-300">Rejuvenation – A Spiritual Foundation</p>
            <p className="text-sm text-slate-300">A/C: 50200008683488 | IFSC: HDFC0000078</p>
          </div>
        </div>
      </footer>

      <style dangerouslySetInnerHTML={{ __html: `
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Plus+Jakarta+Sans:wght@200..800&display=swap');
        .font-serif { font-family: 'Playfair Display', serif; }
        .font-sans { font-family: 'Plus Jakarta Sans', sans-serif; }
      `}} />
    </div>
  );
};

export default App;