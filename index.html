import React, { useState, useEffect } from 'react';
import { 
  Menu, X, Phone, Clock, ChevronRight, Heart, Users, MapPin, 
  Sparkles, BookOpen, Quote, Target, Star, ShieldCheck, ExternalLink,
  Wind, Mic2, VolumeX, Sun, Calendar, PlayCircle, Mail, Landmark,
  Layers, Info, CheckCircle2
} from 'lucide-react';

const App = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [scrolled, setScrolled] = useState(false);
  const [activeModal, setActiveModal] = useState(null);

  useEffect(() => {
    const handleScroll = () => {
      setScrolled(window.scrollY > 20);
    };
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const coreActivities = [
    {
      id: "samatva",
      title: "Samatva Dhyan",
      desc: "Samatva Dhyan is the core in the wheel of Dhyan Sadhna led by Aparna Ji. It sets the foundation for higher spiritual growth.",
      image: "https://images.unsplash.com/photo-1506126613408-eca07ce68773?auto=format&fit=crop&q=80&w=800",
      category: "Dhyan Sadhna"
    },
    {
      id: "geeta",
      title: "Discourse on Bhagwad Geeta",
      desc: "Aparnaji's principles go above religion and she endeavours to follow that ultimate text that has the power to lead us to the ultimate truth. She has taken Bhagawada Gita.",
      image: "https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?auto=format&fit=crop&q=80&w=800",
      category: "Wisdom"
    },
    {
      id: "annadaan",
      title: "Anna Daan",
      desc: "Anna Daan is an outreach initiative taken by Rejuvenation to contribute to Zero Hunger. Under this initiative, Rejuvenators aim at feeding the underprivileged.",
      image: "https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?auto=format&fit=crop&q=80&w=800",
      category: "Outreach"
    }
  ];

  const Modal = ({ isOpen, onClose, content }) => {
    if (!isOpen) return null;
    return (
      <div className="fixed inset-0 z-[200] flex items-center justify-center p-4 md:p-8">
        <div className="absolute inset-0 bg-slate-900/60 backdrop-blur-sm" onClick={onClose}></div>
        <div className="bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-[40px] relative z-10 shadow-2xl animate-in zoom-in-95 duration-200">
          <button onClick={onClose} className="absolute top-6 right-6 p-2 hover:bg-slate-100 rounded-full transition-colors">
            <X size={24} />
          </button>
          <div className="p-8 md:p-12">
            {content}
          </div>
        </div>
      </div>
    );
  };

  const SamatvaContent = () => (
    <div className="space-y-10">
      <div className="flex flex-col md:flex-row gap-10 items-start">
        <div className="w-full md:w-1/3 shrink-0">
          <img 
            src="https://images.unsplash.com/photo-1545389336-cf09bdabc999?auto=format&fit=crop&q=80&w=800" 
            className="rounded-3xl shadow-lg border-4 border-slate-50"
            alt="Aparna Nevatia"
          />
          <p className="mt-4 text-center font-serif text-red-700 font-bold">Aparna Nevatia</p>
        </div>
        <div className="space-y-6">
          <h2 className="text-4xl font-serif font-bold text-red-700">Samatva Dhyan</h2>
          
          <div className="space-y-4">
            <h4 className="text-xl font-bold text-slate-800 flex items-center gap-2">
              <span className="text-red-600">Samatva Dhyan (Level -1)</span>
            </h4>
            <p className="text-slate-600 leading-relaxed font-light">
              Atman Gyan Dhyan Sadhna starts from Soham Dhyan or Samatva Dhyan. It sets the foundation for higher spiritual learning and helps in breaking some deep-rooted notions, like — "meditation is meant only for the retired or for sanyasis or it's not possible to sit for more than ten minutes in a peaceful state of mind". It includes some basic meditation techniques, which not only explain the true nature of dhyan but also give some easy but deeply effective ways to meditate at home.
            </p>
          </div>

          <div className="space-y-4">
            <h4 className="text-xl font-bold text-slate-800 flex items-center gap-2">
              <span className="text-red-600">Samatva Dhyan (Level -2)</span>
            </h4>
            <p className="text-slate-600 leading-relaxed font-light">
              After the basic concepts of dhyan are fully understood, one moves to the higher levels of meditation. While at the basic level we aim at being happy and at peace with our lives, at this level, we try to seek inside ourselves the answers to the unanswered ultimate questions, and guided by Aparnaji, attempt to know what God really is, through meditation. From miraculous experiences to boundless energy, advanced meditation has perhaps no limits.
            </p>
            <p className="text-red-700 font-medium italic text-sm border-l-2 border-red-200 pl-4">
              "...reinforcing the aim of rejuvenation, to move on the path of spirituality, taking everyone who wants to join and to spread the message of 'Sarve Bhavantu Sukhinah' as far as possible."
            </p>
          </div>
        </div>
      </div>

      <div className="bg-slate-50 p-8 md:p-10 rounded-[32px] border border-slate-100 shadow-inner">
        <div className="flex items-center gap-3 mb-6">
          <div className="w-1 h-8 bg-red-700 rounded-full"></div>
          <h4 className="text-2xl font-serif font-bold text-slate-800">Atma Gyan Dhyan Sadhana</h4>
        </div>
        <p className="text-slate-600 text-[15px] leading-relaxed mb-6 italic">
          The few chosen ones who want to go on a very serious path of dhyan sadhna are given initiation into 'Atma Gyan Dhyan Sadhna' by our Guru, Mrs. Aparna Nevatia. Its highly secretive techniques are disclosed only in the pure Guru-Shishya parampara. 
        </p>
        <p className="text-slate-600 text-[15px] leading-relaxed mb-8">
          It takes one on a sacred path to experience the true nature of Sat-Chit-Ananda. It includes the four main paths of yoga, which are, <span className="font-bold text-red-800">GyanYog, Karma Yog, Bhakti Yog and RajYog</span> and helps in understanding that these four paths are in fact interwoven. And one is not complete without the others. Through rigorous discipline tap and Sadhana the Saadhak moves deeper into the spiritual world while fulfilling his or hers material duties as well.
        </p>
        <div className="flex flex-wrap gap-3">
          {['GyanYog', 'Karma Yog', 'Bhakti Yog', 'RajYog'].map((yog) => (
            <span key={yog} className="bg-white px-4 py-2 rounded-full text-[10px] font-black uppercase tracking-widest text-red-700 border border-red-100 shadow-sm">
              {yog}
            </span>
          ))}
        </div>
      </div>
    </div>
  );

  return (
    <div className="min-h-screen bg-[#fafaf9] font-sans text-slate-900 selection:bg-red-100">
      <Modal 
        isOpen={activeModal === 'samatva'} 
        onClose={() => setActiveModal(null)}
        content={<SamatvaContent />}
      />

      {/* Utility Bar */}
      <div className="hidden lg:block bg-[#1a2332] text-slate-300 py-2.5 px-8 text-[11px] font-bold tracking-[0.15em] uppercase">
        <div className="max-w-7xl mx-auto flex justify-between items-center">
          <div className="flex gap-8">
            <span className="flex items-center gap-2">
              <Phone size={14} className="text-amber-400" /> +91-9506515022
            </span>
            <span className="flex items-center gap-2">
              <Clock size={14} className="text-amber-400" /> Mon - Sat: 8 am - 5 pm | Sun: CLOSED
            </span>
          </div>
          <div className="flex items-center gap-4 text-amber-200">
            <span className="bg-amber-400/10 px-3 py-1 rounded text-[10px] border border-amber-400/20">Appointment: Fast & Simple</span>
          </div>
        </div>
      </div>

      {/* Navigation */}
      <nav className={`fixed lg:sticky top-0 w-full z-50 transition-all duration-300 ${scrolled ? 'bg-white shadow-md py-3' : 'bg-transparent py-6'}`}>
        <div className="max-w-7xl mx-auto px-6 flex justify-between items-center">
          <div className="flex items-center gap-3 group cursor-pointer">
            <div className="w-11 h-11 bg-red-700 rounded-xl flex items-center justify-center text-white shadow-xl rotate-3 group-hover:rotate-0 transition-transform">
              <Sparkles size={22} />
            </div>
            <div>
              <h1 className="text-xl font-serif font-black tracking-tight text-slate-900 leading-none uppercase">ATMAN GYAN</h1>
              <p className="text-[9px] tracking-[0.3em] text-red-600 font-bold uppercase mt-1">Dhyan Sadhana</p>
            </div>
          </div>

          <div className="hidden lg:flex items-center gap-8">
            {['Home', 'About', 'Dhyan Sadhna', 'Youth', 'Outreach', 'Contact Us'].map((item) => (
              <a key={item} href={`#${item.toLowerCase().replace(' ', '-')}`} className="text-[13px] font-bold text-slate-600 hover:text-red-700 transition-colors uppercase tracking-wider">
                {item}
              </a>
            ))}
            <button className="bg-red-700 text-white px-7 py-3 rounded-full text-xs font-bold hover:bg-slate-800 transition-all hover:shadow-lg active:scale-95 uppercase tracking-widest">
              Donations (80G)
            </button>
          </div>

          <button className="lg:hidden text-slate-900" onClick={() => setIsMenuOpen(!isMenuOpen)}>
            <Menu size={28} />
          </button>
        </div>
      </nav>

      {/* Hero Header */}
      <header id="home" className="pt-12 pb-16 lg:pt-16 lg:pb-24 overflow-hidden">
        <div className="max-w-7xl mx-auto px-6">
          <div className="bg-white rounded-[60px] p-8 lg:p-20 shadow-xl border border-slate-100 grid lg:grid-cols-12 gap-16 items-center relative overflow-hidden">
            <div className="absolute top-0 right-0 w-64 h-64 bg-red-50 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl opacity-50"></div>
            
            <div className="lg:col-span-7 space-y-8 relative z-10">
              <div className="space-y-4">
                <Quote size={40} className="text-red-100" />
                <h2 className="text-4xl lg:text-5xl font-serif font-medium leading-relaxed text-slate-800 italic">
                  “I am not flesh and bones or the word “I” is not myself. Observe <span className="text-red-800 font-bold">Kutastha</span>, that is My Form.”
                </h2>
                <p className="text-sm font-bold tracking-[0.2em] text-red-600 uppercase">— Yogiraj Shree Shama Churn Mahasya</p>
              </div>
              <div className="h-px w-24 bg-slate-200"></div>
              <p className="text-lg text-slate-600 leading-relaxed font-light max-w-xl">
                We seek to know the Self and achieve our truest potential through techniques of meditation and Yogic Science regardless of caste, creed or religion.
              </p>
              <div className="flex flex-wrap gap-4">
                <button 
                  onClick={() => setActiveModal('samatva')}
                  className="bg-red-700 text-white px-8 py-4 rounded-2xl font-bold hover:bg-slate-800 transition-all shadow-xl shadow-red-900/10 flex items-center gap-3"
                >
                  Explore Samatva Dhyan <ChevronRight size={18} />
                </button>
              </div>
            </div>

            <div className="lg:col-span-5 relative">
              <div className="aspect-[4/5] bg-slate-200 rounded-[40px] overflow-hidden shadow-2xl relative">
                <img 
                  src="https://images.unsplash.com/photo-1545389336-cf09bdabc999?auto=format&fit=crop&q=80&w=1000" 
                  className="w-full h-full object-cover"
                  alt="Aparna Nevatia"
                />
                <div className="absolute inset-0 bg-gradient-to-t from-red-900/60 via-transparent to-transparent"></div>
                <div className="absolute bottom-8 left-8 right-8 text-white">
                  <h3 className="text-2xl font-serif font-bold mb-1">Aparna Nevatia</h3>
                  <p className="text-xs text-red-100 font-bold uppercase tracking-widest">Guide & Mentor</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>

      {/* Activities Grid */}
      <section className="py-24 bg-white border-t border-slate-100">
        <div className="max-w-7xl mx-auto px-6">
          <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-x-12 gap-y-20">
            {coreActivities.map((item, i) => (
              <div key={i} className="flex flex-col group">
                <div className="aspect-[4/3] w-full overflow-hidden rounded-lg mb-8 shadow-md">
                  <img 
                    src={item.image} 
                    alt={item.title} 
                    className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                  />
                </div>
                <h3 className="text-3xl font-serif font-bold text-red-700 mb-6">{item.title}</h3>
                <p className="text-slate-600 text-[15px] leading-relaxed mb-8 font-light min-h-[80px]">
                  {item.desc}
                </p>
                <button 
                  onClick={() => item.id === 'samatva' && setActiveModal('samatva')}
                  className="inline-flex items-center justify-center bg-red-700 text-white px-6 py-3 rounded text-sm font-bold uppercase tracking-widest w-fit hover:bg-slate-800 transition-colors"
                >
                  Read More
                </button>
              </div>
            ))}
            
            <div className="flex flex-col group">
                <div className="aspect-[4/3] w-full overflow-hidden rounded-lg mb-8 shadow-md">
                  <img 
                    src="https://images.unsplash.com/photo-1491438590914-bc09fcaaf77a?auto=format&fit=crop&q=80&w=800" 
                    alt="Jagrati" 
                    className="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
                  />
                </div>
                <h3 className="text-3xl font-serif font-bold text-red-700 mb-6">Jagrati</h3>
                <p className="text-slate-600 text-[15px] leading-relaxed mb-8 font-light min-h-[80px]">
                  Rejuvenation's mission of EDUCATING and SPIRITUALISING underprivileged children with material aids like clothes, academic aids, food, as well as material and moral guidance.
                </p>
                <button className="inline-flex items-center justify-center bg-red-700 text-white px-6 py-3 rounded text-sm font-bold uppercase tracking-widest w-fit hover:bg-slate-800 transition-colors">
                  Read More
                </button>
              </div>
          </div>
        </div>
      </section>

      {/* Outreach Details */}
      <section id="outreach" className="py-24 bg-[#1a2332] text-white overflow-hidden relative">
        <div className="max-w-7xl mx-auto px-6 relative z-10">
          <div className="grid lg:grid-cols-2 gap-20 items-center">
            <div className="space-y-10">
              <div className="space-y-4">
                <span className="text-red-400 font-black uppercase tracking-[0.3em] text-xs">Rejuvenation NGO</span>
                <h2 className="text-5xl font-serif italic leading-tight text-white">Missions of Compassion</h2>
                <p className="text-slate-300 text-lg leading-relaxed font-light">
                  Focused on holistic wellbeing through "Anna Daan" and "Jagrati" for the underprivileged.
                </p>
              </div>
              
              <div className="bg-white p-8 rounded-[40px] text-slate-900 space-y-4 shadow-2xl">
                <div className="flex gap-1">
                  {[1,2,3,4,5].map(s => <Star key={s} size={14} className="text-amber-500 fill-amber-500" />)}
                </div>
                <p className="text-lg font-serif italic text-slate-600 leading-relaxed">
                  "The supernatural peace humans search for is found here at Rejuvenation. When I close my eyes, I find a sense of comfort and experience bliss for which I have no words."
                </p>
                <div className="flex items-center gap-4 border-t border-slate-100 pt-4">
                  <div className="w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center font-bold text-slate-400 text-xs">BA</div>
                  <div>
                    <p className="font-bold text-sm">Brijmohan Agrawal</p>
                    <p className="text-xs text-slate-500 font-bold uppercase tracking-widest">Business Professional</p>
                  </div>
                </div>
              </div>
            </div>

            <div className="bg-white/5 backdrop-blur-md border border-white/10 p-10 rounded-[50px] space-y-8">
              <div className="flex items-center gap-4">
                <Landmark className="text-red-400" size={32} />
                <h3 className="text-2xl font-bold">Donation Details</h3>
              </div>
              
              <div className="space-y-6">
                <div className="p-5 bg-white/5 rounded-2xl border border-white/10">
                  <p className="text-[10px] uppercase tracking-widest text-red-400 font-black mb-2">Account Name</p>
                  <p className="text-lg font-medium">Rejuvenation – A Spiritual Foundation</p>
                </div>
                <div className="grid grid-cols-2 gap-4">
                  <div className="p-5 bg-white/5 rounded-2xl border border-white/10">
                    <p className="text-[10px] uppercase tracking-widest text-red-400 font-black mb-1">A/C Number</p>
                    <p className="font-mono text-sm">50200008683488</p>
                  </div>
                  <div className="p-5 bg-white/5 rounded-2xl border border-white/10">
                    <p className="text-[10px] uppercase tracking-widest text-red-400 font-black mb-1">IFSC Code</p>
                    <p className="font-mono text-sm">HDFC0000078</p>
                  </div>
                </div>
                <div className="p-5 bg-white/5 rounded-2xl border border-white/10 flex justify-between items-center">
                  <div>
                    <p className="text-[10px] uppercase tracking-widest text-red-400 font-black mb-1">Paytm / UPI</p>
                    <p className="font-mono text-sm">+91-9839651502</p>
                  </div>
                  <div className="w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center text-white">
                    <ShieldCheck size={20} />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer id="contact-us" className="bg-white pt-24 pb-12">
        <div className="max-w-7xl mx-auto px-6">
          <div className="grid md:grid-cols-4 gap-16 mb-20">
            <div className="col-span-2 space-y-8">
              <div className="flex items-center gap-3">
                <div className="w-10 h-10 bg-red-700 rounded-xl flex items-center justify-center text-white"><Sparkles size={18}/></div>
                <h3 className="text-xl font-serif font-black text-slate-900 uppercase">ATMAN GYAN</h3>
              </div>
              <div className="space-y-4">
                <div className="flex items-start gap-4 text-slate-500 text-sm">
                  <MapPin className="text-red-700 shrink-0" size={20} />
                  <span>Anand Ashram, 2/112 Vijay khand, <br />Gomti Nagar, Lucknow 226022</span>
                </div>
                <div className="flex items-start gap-4 text-slate-500 text-sm">
                  <Mail className="text-red-700 shrink-0" size={20} />
                  <span>aparnanevatia@gmail.com</span>
                </div>
                <div className="flex items-start gap-4 text-slate-500 text-sm">
                  <Phone className="text-red-700 shrink-0" size={20} />
                  <span>+91-9506515022 / +91 79052 25198</span>
                </div>
              </div>
            </div>
            
            <div>
              <h5 className="font-bold mb-8 uppercase text-[10px] tracking-widest text-slate-400">Navigation</h5>
              <ul className="space-y-4 text-sm font-medium text-slate-600">
                <li><a href="#about" className="hover:text-red-700">About Mentor</a></li>
                <li><a href="#dhyan-sadhna" className="hover:text-red-700">Dhyan Sadhna</a></li>
                <li><a href="#youth" className="hover:text-red-700">Youth Programs</a></li>
                <li><a href="#outreach" className="hover:text-red-700">Outreach</a></li>
              </ul>
            </div>

            <div>
              <h5 className="font-bold mb-8 uppercase text-[10px] tracking-widest text-slate-400">Foundation</h5>
              <ul className="space-y-4 text-sm font-medium text-slate-600">
                <li>Mon - Sat: 8 am - 5 pm</li>
                <li className="text-red-500">Sunday: CLOSED</li>
              </ul>
            </div>
          </div>
          
          <div className="pt-10 border-t border-slate-100 text-center">
            <p className="text-[10px] text-slate-400 font-black uppercase tracking-[0.3em]">
              © 2024 Atman Gyan – Dhyan Sadhana | Rejuvenation – A Spiritual Foundation
            </p>
          </div>
        </div>
      </footer>

      {/* Mobile Nav */}
      {isMenuOpen && (
        <div className="fixed inset-0 z-[100] bg-white flex flex-col items-center justify-center p-10 space-y-8 animate-in fade-in duration-300">
          <button className="absolute top-10 right-10 text-slate-900" onClick={() => setIsMenuOpen(false)}><X size={32}/></button>
          {['Home', 'About', 'Dhyan Sadhna', 'Youth', 'Outreach', 'Contact Us'].map((item) => (
            <a key={item} href={`#${item.toLowerCase().replace(' ', '-')}`} className="text-2xl font-serif font-bold text-slate-800" onClick={() => setIsMenuOpen(false)}>{item}</a>
          ))}
          <button className="w-full bg-red-700 text-white py-5 rounded-2xl font-bold uppercase tracking-widest shadow-xl">80G Donation</button>
        </div>
      )}

      <style dangerouslySetInnerHTML={{ __html: `
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Plus+Jakarta+Sans:wght@200..800&display=swap');
        
        html { scroll-behavior: smooth; }
        .font-serif { font-family: 'Playfair Display', serif; }
        .font-sans { font-family: 'Plus Jakarta Sans', sans-serif; }
      `}} />
    </div>
  );
};

export default App;